<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Graph</title>
    <style>
        body {
            align-items: center;
            justify-content: center;
            padding: 0; /* p-4 */
            font-family: 'Inter', sans-serif; 
            margin: 0;
        }

        .main-container {
            background-color: #ffffff; 
            border-radius: 0.75rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); 
            padding: 5px;
            max-width: 36rem; 
            width: 100%;
            margin: auto;
        }

        @media (min-width: 768px) { /* md: */
            .main-container {
                padding: 2rem; /* md:p-8 */
            }
        }

        /* Heading Styles */
        .graph-heading {
            font-size: 2.25rem; /* text-3xl */
            font-weight: 800; /* font-extrabold */
            text-align: center; /* text-center */
            color: #1f2937; /* text-gray-800 */
            margin-bottom: 1.5rem; /* mb-6 */
        }

        /* Responsive heading for medium screens */
        @media (min-width: 768px) { /* md: */
            .graph-heading {
                font-size: 2.5rem; /* md:text-4xl */
            }
        }

        /* Blue text within heading */
        .text-blue {
            color: #2563eb; /* text-blue-600 */
        }

        /* Input and Button Container */
        .input-button-container {
            margin-bottom: 1.5rem; /* mb-6 */
        }

        /* Responsive input/button layout for small screens */
        @media (min-width: 640px) { /* sm: */
            .input-button-container {
                flex-direction: row; /* sm:flex-row */
                gap: 1rem; /* sm:space-x-4 */
                margin-bottom: 1.5rem;
            }
        }

        /* Label Styles */
        .input-label {
            color: #374151; /* text-gray-700 */
            font-weight: 600; /* font-semibold */
            font-size: 1.125rem; /* text-lg */
        }

        /* Responsive label width for small screens */
        @media (min-width: 640px) { /* sm: */
            .input-label {
                width: auto; /* sm:w-auto */
            }
        }

        /* Input Field Styles */
        .equation-input {
            flex-grow: 1; /* flex-grow */
            padding: 0.75rem; /* p-3 */
            border: 2px solid #d1d5db; /* border-2 border-gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            outline: none; /* focus:outline-none */
            font-size: 1.125rem; /* text-lg */
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* shadow-sm */
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            width: 100%; /* For smaller screens */
        }

        /* Input field focus styles */
        .equation-input:focus {
            border-color: #3b82f6; /* focus:ring-2 focus:ring-blue-500 */
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5); /* focus:ring-2 focus:ring-blue-500 */
        }

        /* Button Styles */
        .update-button {
            padding: 0.75rem 1.5rem;
    background: linear-gradient(45deg, #9C27B0, #3F51B5);
    color: #ffffff;
    font-weight: 700;
    border-radius: 0.5rem;
    transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    border: none;}

        /* Button hover styles */
        .update-button:hover {
            background-color: #1d4ed8; /* hover:bg-blue-700 */
            transform: scale(1.05); /* hover:scale-105 */
        }

        /* SVG Container Styles */
        .graph-container {
            position: relative;
            width: 100%;
            padding-bottom: 100%; /* Makes the container square (aspect-w-1 aspect-h-1) */
            max-width: 32rem; /* max-w-lg */
            margin-left: auto; /* mx-auto */
            margin-right: auto; /* mx-auto */
        }

        /* SVG Element Styles */
        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%; /* w-full */
            height: 100%; /* h-full */
            border-radius: 0.5rem; /* rounded-lg */
            background-color: #fff; /* light background for graph area */
        }

        /* Error Message Styles */
        .error-message {
            color: #dc2626; /* text-red-600 */
            text-align: center; /* text-center */
            margin-top: 1rem; /* mt-4 */
            font-size: 0.875rem; /* text-sm */
        }

        /* Responsive error message font size */
        @media (min-width: 768px) { /* md: */
            .error-message {
                font-size: 1rem; /* md:text-base */
            }
        }

        /* Information Text Styles */
        .info-text {
            color: #4b5563; /* text-gray-600 */
            text-align: center; /* text-center */
            margin-top: 0.5rem; /* mt-2 */
            font-size: 0.875rem; /* text-sm */
        }

        /* Responsive info text font size */
        @media (min-width: 768px) { /* md: */
            .info-text {
                font-size: 1rem; /* md:text-base */
            }
        }

        /* Shadow for the graph line */
        .line-shadow {
             filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2)); /* shadow-lg custom */
        }

        /* Tooltip Styles */
        #tooltip {
            position: absolute;
            background-color: #333;
            color: #fff;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            pointer-events: none; /* Allows mouse events to pass through */
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
            white-space: nowrap;
        }

        /* Highlight style for axis labels */
        .highlight-axis-label {
            font-weight: bold;
            fill: #dc2121; /* A darker blue */
            transition: fill 0.2s, font-weight 0.2s;
        }



        .equation-display {
  font-size: 20px;
  margin-bottom: 20px;
  text-align: center;
  font-family: "Times New Roman", serif;
}

#controls {
  display: flex;
  flex-direction: column;
  gap: 10px; 
  max-width: 300px;
  margin: auto;
}

.control {
  display: flex;
  justify-content: space-between; 
  align-items: center;
  gap: 10px;
  margin-bottom: 5px;
  max-width: 300px;
    margin: auto;
}

.control label {
  flex: 1; 
}


.control button {
  width: 30px;
  height: 30px;
  display: flex;            /* flexbox inside button */
  align-items: center;      /* vertical center */
  justify-content: center;  /* horizontal center */
  font-size: 18px;
  font-weight: bold;
  padding: 0;
  box-sizing: border-box;
  background: #e6e6e6;
    color: #000000;
    border: none;
    cursor: pointer;
}

.control input {
  width: 60px;
  padding: 5px;
  outline: none;
  border: 1px solid #eee;
}


.input-container {
  display: flex;
  align-items: center;
  border: 1px solid #ccc;
  width: fit-content;
}

.toggle-box {
  display: flex;
  justify-content: center; /* Horizontal centering */
  align-items: center;     /* Vertical centering */

  /* Set a fixed size */
  width: 30px; 
  height: 30px; 
  
  font-size: 18px;
  cursor: pointer; /* Important since it's replacing a button */
  border-radius: 4px;
}

/* 3. Input Styling (Minimal) */
.input-container input {
  padding: 5px;
  width: 20px;
  text-align: center;
}
.power-tabs {
  display: flex;
  overflow: hidden;
  width: 100%;
  box-shadow: 0px 4px 8px 0px #00000014;
}

/* hide radios */
.power-tabs input[type="radio"] {
  display: none;
}

.power-tabs label {
  flex: 1;
  padding: 2px 5px;
  text-align: center;
  background: #f5f5f5;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
  user-select: none;
}

/* active tab */
.power-tabs input[type="radio"]:checked + label {
  background: #007bff;
  color: #fff;
 }
.btn-wrapper{
    display: flex;
    gap:2px;
}
.container{padding: 15px;}

/* Container setup */
.ldesc {
    display: grid;
    /* This creates a responsive grid: boxes will be at least 300px wide */
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
    gap: 20px;
    padding: 0;
    list-style: none;
    font-family: 'Segoe UI', sans-serif;
}

/* The Feature Card */
.ldesc>li {
    background: #ffffff;
    border: 1px solid #e1e8ed;
    border-radius: 12px;
    padding: 24px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

/* Hover effect to make it feel interactive */
.ldesc>li:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    border-color: #007bff;
}

/* Heading style inside the card */
.ldesc>li h4 {
    margin: 0 0 12px 0;
    color: #007bff;
    font-size: 1.25rem;
    padding-bottom: 8px;
}

/* Text style (Sinhala fonts usually need a bit more line-height) */
.ldesc>li {
    line-height: 1.8;
    color: #333;
    font-size: 1rem;
}
.accordion {
  list-style: none;
  padding: 0;
}

.accordion li {
  border-bottom: 1px solid #ddd;
  cursor: pointer;
}

.accordion h4 {
  margin: 0;
  padding: 15px;
  display: flex;
  justify-content: space-between;
}

.accordion h4::after {
  content: '+'; /* Visual indicator */
}

.accordion li.active h4::after {
  content: '-';
}

.lcontent {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-out; /* The sliding effect */
  background: white;
}
    </style>
</head>
<body class="">
   
    <div class="container">
        <h1>‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠/‡∂¥‡∑ä‚Äç‡∂ª‡∑É‡∑ä‡∂Æ‡∑è‡∂ª</h1>
        <ul class="accordion ldesc">
            <li>
                <h4>‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠/‡∂¥‡∑ä‚Äç‡∂ª‡∑É‡∑ä‡∂Æ‡∑è‡∂ª ‡∂ö‡∑í‡∂∫‡∂±‡∑ä‡∂±‡∑ö ‡∂∏‡∑ú‡∂±‡∑Ä‡∂Ø?</h4>
                <div class="lcontent">
                    <p>‡∂∫‡∂∏‡∑ä ‡∂Ø‡∑ô‡∂∫‡∂ö‡∑ä (x) ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂Ö‡∂±‡∑î‡∂ª‡∑ñ‡∂¥‡∑Ä ‡∂≠‡∑Ä‡∂≠‡∑ä ‡∂Ø‡∑ô‡∂∫‡∂ö‡∑ä (y) ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∑Ä‡∑ô‡∂± ‡∑Ä‡∑í‡∂Ø‡∑í‡∂∫ ‡∂ª‡∑ñ‡∂¥ ‡∑É‡∂ß‡∑Ñ‡∂±‡∂ö‡∑í‡∂±‡∑ä ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂± ‡∂ë‡∂ö ‡∂≠‡∂∏‡∑è ‡∂Ö‡∂¥‡∑í ‡∂¥‡∑ä‚Äç‡∂ª‡∑É‡∑ä‡∂≠‡∑è‡∂ª ‡∑Ä‡∂Ω‡∑í‡∂±‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑ö.</p>
                </div>
            </li>
        
            <li>
                <h4>‡∑É‡∂ª‡∂Ω ‡∂ª‡∑ö‡∂õ‡∑ì‡∂∫ ‡∂¥‡∑ä‚Äç‡∂ª‡∑É‡∑ä‡∂Æ‡∑è‡∂ª (y = mx + c)</h4>
                <div class="lcontent">
                    <strong>‡∂ã‡∂Ø‡∑è‡∑Ñ‡∂ª‡∂´‡∂∫: ‡∂ß‡∑ê‡∂ö‡∑ä‡∑É‡∑í ‡∂ú‡∑è‡∑É‡∑ä‡∂≠‡∑î‡∑Ä</strong>
                    <ul>
                        <li>‡∂ß‡∑ê‡∂ö‡∑ä‡∑É‡∑í‡∂∫‡∂ß ‡∂ú‡∑ú‡∂©‡∑Ä‡∑î‡∂´‡∑î ‡∂ú‡∂∏‡∂±‡∑ä ‡∂Ö‡∂∫ ‡∂ö‡∂ª‡∂± ‡∂Ö‡∂±‡∑í‡∑Ä‡∑è‡∂ª‡∑ä‡∂∫ ‡∂∏‡∑î‡∂Ø‡∂Ω = ‡∂ª‡∑î. 100 (‡∂∏‡∑ö‡∂ö <strong>c</strong>)</li>
                        <li>‡∂∫‡∂± ‡∑Ñ‡∑ê‡∂∏ ‡∂ö‡∑í‡∂Ω‡∑ù‡∂∏‡∑ì‡∂ß‡∂ª‡∂∫‡∂ö‡∂ß‡∂∏ ‡∂ë‡∂ö‡∂≠‡∑î ‡∑Ä‡∂± ‡∂∏‡∑î‡∂Ø‡∂Ω = ‡∂ª‡∑î. 50 (‡∂∏‡∑ö‡∂ö <strong>m</strong>)</li>
                        <li>‡∂î‡∂∫‡∑è ‡∂ú‡∑í‡∂∫ ‡∂∏‡∑î‡∑Ö‡∑î ‡∂Ø‡∑î‡∂ª = <strong>x</strong></li>
                    </ul>
                    <p>
                        <strong>y = 50x + 100</strong><br>
                        ‡∂∏‡∑ô‡∑Ñ‡∑í <strong>y</strong> ‡∂ö‡∑í‡∂∫‡∂±‡∑ä‡∂±‡∑ö ‡∂î‡∂∫‡∑è ‡∂ú‡∑ô‡∑Ä‡∑í‡∂∫ ‡∂∫‡∑î‡∂≠‡∑î ‡∂∏‡∑î‡∑Ö‡∑î ‡∂ú‡∑è‡∑É‡∑ä‡∂≠‡∑î‡∑Ä‡∂∫‡∑í.
                    </p>
                </div>
            </li>
        
            <li>
                <h4>‡∑Ä‡∂ª‡∑ä‡∂ú‡∂¢ ‡∂¥‡∑ä‚Äç‡∂ª‡∑É‡∑ä‡∂Æ‡∑è‡∂ª (y = ax¬≤ + c)</h4>
                <div class="lcontent">
                    <strong>‡∂ã‡∂Ø‡∑è‡∑Ñ‡∂ª‡∂´‡∂∫: ‡∂ö‡∑è‡∂∏‡∂ª‡∂∫‡∂ö‡∂ß ‡∂ß‡∂∫‡∑í‡∂Ω‡∑ä ‡∂á‡∂Ω‡∑ä‡∂Ω‡∑ì‡∂∏</strong>
                    <p>‡∑Ñ‡∑í‡∂≠‡∂±‡∑ä‡∂± ‡∂î‡∂∫‡∑è‡∂ú‡∑ö ‡∑Ö‡∂ü ‡∑É‡∂∏‡∂†‡∂≠‡∑î‡∂ª‡∑É‡∑ä‚Äç‡∂ª‡∑è‡∂ö‡∑è‡∂ª ‡∂ö‡∑è‡∂∏‡∂ª‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∫‡∑ô‡∂±‡∑Ä‡∑è. ‡∂í ‡∂ö‡∑è‡∂∏‡∂ª‡∑ö ‡∂¥‡∑ê‡∂≠‡∑ä‡∂≠‡∂ö ‡∂Ø‡∑í‡∂ú <strong>x</strong> ‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä ‡∂ö‡∑í‡∂∫‡∂Ω‡∑è ‡∂ú‡∂∏‡∑î.</p>
                    <ul>
                        <li>‡∂ö‡∑è‡∂∏‡∂ª‡∑ö ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂µ‡∂Ω‡∂∫ = <strong>x¬≤</strong></li>
                        <li>‡∂ë‡∂ö‡∑ä ‡∑Ä‡∂ª‡∑ä‡∂ú ‡∂∏‡∑ì‡∂ß‡∂ª‡∂∫‡∂ö‡∂ß ‡∂∫‡∂± ‡∂ß‡∂∫‡∑í‡∂Ω‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫ = <strong>a</strong></li>
                        <li>‡∂Ö‡∂∏‡∂≠‡∂ª‡∑Ä ‡∂ú‡∑ô‡∂± ‡∂ë‡∂± ‡∂ß‡∂∫‡∑í‡∂Ω‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫ = <strong>c</strong></li>
                    </ul>
                    <p>
                        <strong>y = ax¬≤ + c</strong><br>
                        ‡∂ë‡∂≠‡∂ö‡∑ú‡∂ß ‡∂ö‡∑è‡∂∏‡∂ª‡∑ö ‡∂¥‡∑ê‡∂≠‡∑ä‡∂≠‡∂ö ‡∂Ø‡∑í‡∂ú ‡∂Ö‡∂±‡∑î‡∑Ä ‡∂ö‡∑è‡∂∏‡∂ª‡∑ö‡∂ß ‡∂ï‡∂±‡∑ë ‡∂ö‡∂ª‡∂± ‡∂∏‡∑î‡∑Ö‡∑î ‡∂ß‡∂∫‡∑í‡∂Ω‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫ <strong>(y)</strong> ‡∂∏‡∑ö‡∂ö‡∑ô‡∂±‡∑ä ‡∑Ñ‡∑ú‡∂∫‡∂±‡∑ä‡∂± ‡∂¥‡∑î‡∑Ö‡∑î‡∑Ä‡∂±‡∑ä.
                    </p>
                </div>
            </li>
        </ul>
    
        <p>‡∂Ö‡∂¥‡∑í ‡∂∏‡∑ö ‡∂ö‡∂≠‡∑è‡∂ö‡∂ª‡∂¥‡∑î m ‡∂Ö‡∂±‡∑î‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂´‡∂∫ ‡∂Ω‡∑ô‡∑É‡∂≠‡∑ä c ‡∂Ö‡∂´‡∑ä‡∂≠‡∂É‡∂õ‡∂´‡∑ä‡∂©‡∂∫ ‡∂Ω‡∑ô‡∑É‡∂≠‡∑ä ‡∑Ñ‡∂≥‡∑î‡∂±‡∑ä‡∑Ä‡∂±‡∑Ä‡∑è.
            ‡∂¥‡∑Ñ‡∂Ω‡∑í‡∂±‡∑ä ‡∂î‡∂∫‡∑è‡∂ß ‡∂¥‡∑î‡∂Ω‡∑î‡∑Ä‡∂±‡∑ä ‡∂Ö‡∂±‡∑î‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂´‡∂∫ ‡∑Ñ‡∑è ‡∂Ö‡∂´‡∑ä‡∂≠‡∂É‡∂õ‡∂´‡∑ä‡∂©‡∂∫ ‡∂Ö‡∂±‡∑î‡∑Ä ‡∂¥‡∑ä‚Äç‡∂ª‡∑É‡∑ä‡∂≠‡∑è‡∂ª‡∂∫‡∂ö ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∑Ä‡∑ì‡∂∏ ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Å‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>
    </div>   
    <div class="main-container">
     

        <div class="input-button-container">
<div id="controls">
    <div class="power-tabs">
        <input type="radio" id="power1" name="power" value="1" checked>
        <label for="power1">‡∂ª‡∑ö‡∂õ‡∑ì‡∂∫ ‡∂¥‡∑ä‚Äç‡∂ª‡∑É‡∑ä‡∂Æ‡∑è‡∂ª</label>
      
        <input type="radio" id="power2" name="power" value="2">
        <label for="power2">‡∑Ä‡∂ª‡∑ä‡∂ú‡∂¢ ‡∂¥‡∑ä‚Äç‡∂ª‡∑É‡∑ä‡∂Æ‡∑è‡∂ª</label>
      </div>
      
      
      

    <div id="equationDisplay" class="equation-display">y = 2x¬≤ + 3</div>

  

  

        </div>

        <!-- SVG Container for the Graph -->
        <div class="graph-container">
         
        </div>
        <div class="control">
            <span>‡∂Ö‡∂±‡∑î‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂´‡∂∫:</span>
        <div class="btn-wrapper">
              <button class="scroll-btn left">‚Üê</button> 
              <input type="number" id="coef" value="2" min="-10" max="10" readonly>
              <button class="scroll-btn right">‚Üí</button>
            </div>
          </div>
          
          <div class="control">
            <span>‡∂Ö‡∂´‡∑ä‡∂≠‡∂É‡∂õ‡∂´‡∑ä‡∂©‡∂∫:</span>
            <div class="btn-wrapper">
            <button class="scroll-btn left">‚Üê</button> 
            <input type="number" id="constant" value="1" min="-50" max="50" readonly>
            <button class="scroll-btn right">‚Üí</button>
        </div>
          </div>
        <p id="errorMessage" class="error-message hidden">
     </p>

        <p class="info-text">
         </p>
    </div>

    <script src="js/graph.js"></script>
    <script>

document.addEventListener("click", e => {
  const btn = e.target.closest(".scroll-btn");
  if (!btn) return;

  const wrapper = btn.closest(".btn-wrapper");
  if (!wrapper) return;

  const input = wrapper.querySelector('input[type="number"]');
  if (!input) return;

  const step = input.step ? Number(input.step) : 1;
  const min = input.min !== "" ? Number(input.min) : -Infinity;
  const max = input.max !== "" ? Number(input.max) : Infinity;

  let value = Number(input.value) || 0;

  if (btn.classList.contains("left")) {
    value -= step;
  } else {
    value += step;
  }

  // clamp value
  value = Math.max(min, Math.min(max, value));

  input.value = value;

  // üî• trigger same logic as manual typing
  input.dispatchEvent(new Event("input", { bubbles: true }));
});


           createGraphSVG('.graph-container');



const graphLine = document.getElementById('graphLine');
const dotsGroup = document.getElementById('dotsGroup');
const errorMessage = document.getElementById('errorMessage');
const graphSVG = document.getElementById('graphSVG'); 



const coefInput   = document.getElementById("coef");
const constInput  = document.getElementById("constant");
const powerRadios = document.querySelectorAll("input[name='power']");
const eqDisplay   = document.getElementById("equationDisplay");

[coefInput, constInput].forEach(el => {
el.addEventListener("input", renderEquation);
});
powerRadios.forEach(radio => {
radio.addEventListener("change", renderEquation);
});

function renderEquation() {
const coef = parseFloat(coefInput.value) || 0;
const constant = parseFloat(constInput.value) || 0;
const power = document.querySelector("input[name='power']:checked").value;

let displayEq = "y = ";
let hasTerm = false;

if (coef !== 0) {
hasTerm = true;
if (coef === 1) {
displayEq += "x";
} else if (coef === -1) {
displayEq += "-x";
} else {
displayEq += coef + "x";
}
if (power === "2") displayEq += "¬≤";
}

if (constant !== 0) {
if (hasTerm) {
displayEq += (constant > 0 ? " + " : " - ") + Math.abs(constant);
} else {
displayEq += constant;
}
hasTerm = true;
}

if (!hasTerm) {
displayEq += "0";
}

eqDisplay.innerHTML = displayEq;

// -------- Raw Equation String (parser) --------
let rawEq = "y = ";
if (coef !== 0) {
rawEq += coef + "x";
if (power === "2") rawEq += "^2";
}
if (constant !== 0) {
if (coef !== 0) {
rawEq += (constant > 0 ? "+" : "") + constant;
} else {
rawEq += constant;
}
}
if (coef === 0 && constant === 0) {
rawEq += "0";
}

updateGraph(rawEq);
}



// initial render
renderEquation();
document.querySelectorAll('.accordion > li').forEach(item => {
  item.addEventListener('click', function(e) {
    // Prevent the click from affecting parent menus if nested
    e.stopPropagation();

    const lcontent = this.querySelector(':scope > .lcontent');
    if (!lcontent) return; // Exit if this specific LI has no content div

    const isOpen = this.classList.contains('active');

    // Close other top-level items
    document.querySelectorAll('.accordion > li').forEach(el => {
      el.classList.remove('active');
      const childContent = el.querySelector(':scope > .lcontent');
      if (childContent) childContent.style.maxHeight = null;
    });

    // Open this item
    if (!isOpen) {
      this.classList.add('active');
      lcontent.style.maxHeight = lcontent.scrollHeight + "px";
    }
  });
});
    </script>
</body>
</html>
