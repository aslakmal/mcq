<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Graph</title>
    <style>
        /* General Body Styles */
        body {
            background: linear-gradient(to bottom right, #e0f2fe, #ede9fe); /* from-blue-100 to-purple-100 */
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0; /* p-4 */
            font-family: 'Inter', sans-serif; /* font-sans */
        }

        /* Main Container Styles */
        .main-container {
            background-color: #ffffff; /* bg-white */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); /* shadow-2xl */
            padding: 5px; /* p-6 */
            max-width: 36rem; /* max-w-xl */
            width: 100%;
        }

        /* Responsive padding for medium screens */
        @media (min-width: 768px) { /* md: */
            .main-container {
                padding: 2rem; /* md:p-8 */
            }
        }

        /* Heading Styles */
        .graph-heading {
            font-size: 2.25rem; /* text-3xl */
            font-weight: 800; /* font-extrabold */
            text-align: center; /* text-center */
            color: #1f2937; /* text-gray-800 */
            margin-bottom: 1.5rem; /* mb-6 */
        }

        /* Responsive heading for medium screens */
        @media (min-width: 768px) { /* md: */
            .graph-heading {
                font-size: 2.5rem; /* md:text-4xl */
            }
        }

        /* Blue text within heading */
        .text-blue {
            color: #2563eb; /* text-blue-600 */
        }

        /* Input and Button Container */
        .input-button-container {
            margin-bottom: 1.5rem; /* mb-6 */
        }

        /* Responsive input/button layout for small screens */
        @media (min-width: 640px) { /* sm: */
            .input-button-container {
                flex-direction: row; /* sm:flex-row */
                gap: 1rem; /* sm:space-x-4 */
                margin-bottom: 1.5rem;
            }
        }

        /* Label Styles */
        .input-label {
            color: #374151; /* text-gray-700 */
            font-weight: 600; /* font-semibold */
            font-size: 1.125rem; /* text-lg */
        }

        /* Responsive label width for small screens */
        @media (min-width: 640px) { /* sm: */
            .input-label {
                width: auto; /* sm:w-auto */
            }
        }

        /* Input Field Styles */
        .equation-input {
            flex-grow: 1; /* flex-grow */
            padding: 0.75rem; /* p-3 */
            border: 2px solid #d1d5db; /* border-2 border-gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            outline: none; /* focus:outline-none */
            font-size: 1.125rem; /* text-lg */
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* shadow-sm */
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            width: 100%; /* For smaller screens */
        }

        /* Input field focus styles */
        .equation-input:focus {
            border-color: #3b82f6; /* focus:ring-2 focus:ring-blue-500 */
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5); /* focus:ring-2 focus:ring-blue-500 */
        }

        /* Button Styles */
        .update-button {
            padding: 0.75rem 1.5rem;
    background: linear-gradient(45deg, #9C27B0, #3F51B5);
    color: #ffffff;
    font-weight: 700;
    border-radius: 0.5rem;
    transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    border: none;}

        /* Button hover styles */
        .update-button:hover {
            background-color: #1d4ed8; /* hover:bg-blue-700 */
            transform: scale(1.05); /* hover:scale-105 */
        }

        /* SVG Container Styles */
        .graph-container {
            position: relative;
            width: 100%;
            padding-bottom: 100%; /* Makes the container square (aspect-w-1 aspect-h-1) */
            max-width: 32rem; /* max-w-lg */
            margin-left: auto; /* mx-auto */
            margin-right: auto; /* mx-auto */
        }

        /* SVG Element Styles */
        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%; /* w-full */
            height: 100%; /* h-full */
            border-radius: 0.5rem; /* rounded-lg */
            background-color: #fff; /* light background for graph area */
        }

        /* Error Message Styles */
        .error-message {
            color: #dc2626; /* text-red-600 */
            text-align: center; /* text-center */
            margin-top: 1rem; /* mt-4 */
            font-size: 0.875rem; /* text-sm */
        }

        /* Responsive error message font size */
        @media (min-width: 768px) { /* md: */
            .error-message {
                font-size: 1rem; /* md:text-base */
            }
        }

        /* Information Text Styles */
        .info-text {
            color: #4b5563; /* text-gray-600 */
            text-align: center; /* text-center */
            margin-top: 0.5rem; /* mt-2 */
            font-size: 0.875rem; /* text-sm */
        }

        /* Responsive info text font size */
        @media (min-width: 768px) { /* md: */
            .info-text {
                font-size: 1rem; /* md:text-base */
            }
        }

        /* Shadow for the graph line */
        .line-shadow {
             filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2)); /* shadow-lg custom */
        }

        /* Tooltip Styles */
        #tooltip {
            position: absolute;
            background-color: #333;
            color: #fff;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            pointer-events: none; /* Allows mouse events to pass through */
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
            white-space: nowrap;
        }

        /* Highlight style for axis labels */
        .highlight-axis-label {
            font-weight: bold;
            fill: #dc2121; /* A darker blue */
            transition: fill 0.2s, font-weight 0.2s;
        }



        .equation-display {
  font-size: 20px;
  margin-bottom: 20px;
  text-align: center;
  font-family: "Times New Roman", serif;
}

#controls {
  display: flex;
  flex-direction: column;
  gap: 10px; 
  max-width: 300px;
  margin: auto;
}

.control {
  display: flex;
  justify-content: space-between; 
  align-items: center;
  gap: 10px;
  margin-bottom: 5px;
}

.control label {
  flex: 1; 
}


.control button {
  width: 30px;
  height: 30px;
  display: flex;            /* flexbox inside button */
  align-items: center;      /* vertical center */
  justify-content: center;  /* horizontal center */
  font-size: 18px;
  font-weight: bold;
  padding: 0;
  box-sizing: border-box;
  background: #e6e6e6;
    color: #000000;
    border: none;
    cursor: pointer;
}

.control input {
  width: 60px;
  padding: 5px;
  outline: none;
  border: 1px solid #eee;
}


.input-container {
  display: flex;
  align-items: center;
  border: 1px solid #ccc;
  width: fit-content;
}

.toggle-box {
  display: flex;
  justify-content: center; /* Horizontal centering */
  align-items: center;     /* Vertical centering */

  /* Set a fixed size */
  width: 30px; 
  height: 30px; 
  
  font-size: 18px;
  cursor: pointer; /* Important since it's replacing a button */
  border-radius: 4px;
}

/* 3. Input Styling (Minimal) */
.input-container input {
  padding: 5px;
  width: 20px;
  text-align: center;
}
.power-tabs {
  display: flex;
  overflow: hidden;
  width: 100%;
  box-shadow: 0px 4px 8px 0px #00000014;
}

/* hide radios */
.power-tabs input[type="radio"] {
  display: none;
}

.power-tabs label {
  flex: 1;
  padding: 2px 5px;
  text-align: center;
  background: #f5f5f5;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
  user-select: none;
}

/* active tab */
.power-tabs input[type="radio"]:checked + label {
  background: #007bff;
  color: #fff;
 }
.btn-wrapper{
    display: flex;
    gap:2px;
}
    </style>
</head>
<body class="bg-gradient-to-br from-blue-100 to-purple-100 min-h-screen flex items-center justify-center p-4 font-sans">
    <div class="main-container">
        <h1 class="graph-heading">‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠
        </h1>

        <div class="input-button-container">
<!-- Equation Display -->


<!-- Controls -->
<div id="controls">
    <div class="power-tabs">
        <input type="radio" id="power1" name="power" value="1" checked>
        <label for="power1">‡∂ª‡∑ö‡∂õ‡∑ì‡∂∫ ‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠</label>
      
        <input type="radio" id="power2" name="power" value="2">
        <label for="power2">‡∑Ä‡∂ª‡∑ä‡∂ú‡∂¢ ‡∑Å‡∑ä‚Äç‡∂ª‡∑í‡∂≠</label>
      </div>
      
      
      

    <div id="equationDisplay" class="equation-display">y = 2x¬≤ + 3</div>

  

  

        </div>

        <!-- SVG Container for the Graph -->
        <div class="graph-container">
            <!--<svg id="graphSVG" viewBox="-10 -10 20 20">
            <defs>
                    <clipPath id="graphAreaClip">
                        <rect x="-10" y="-10" width="20" height="20"/>
                    </clipPath>
                </defs>
                <line x1="-10" y1="-9" x2="10" y2="-9" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="-8" x2="10" y2="-8" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="-7" x2="10" y2="-7" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="-6" x2="10" y2="-6" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="-5" x2="10" y2="-5" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="-4" x2="10" y2="-4" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="-3" x2="10" y2="-3" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="-2" x2="10" y2="-2" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="-1" x2="10" y2="-1" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="1" x2="10" y2="1" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="2" x2="10" y2="2" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="3" x2="10" y2="3" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="4" x2="10" y2="4" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="5" x2="10" y2="5" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="6" x2="10" y2="6" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="7" x2="10" y2="7" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="8" x2="10" y2="8" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-10" y1="9" x2="10" y2="9" stroke="#e0e0e0" stroke-width="0.02"></line>

                <line x1="-9" y1="-10" x2="-9" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-8" y1="-10" x2="-8" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-7" y1="-10" x2="-7" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-6" y1="-10" x2="-6" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-5" y1="-10" x2="-5" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-4" y1="-10" x2="-4" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-3" y1="-10" x2="-3" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-2" y1="-10" x2="-2" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="-1" y1="-10" x2="-1" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="1" y1="-10" x2="1" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="2" y1="-10" x2="2" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="3" y1="-10" x2="3" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="4" y1="-10" x2="4" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="5" y1="-10" x2="5" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="6" y1="-10" x2="6" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="7" y1="-10" x2="7" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="8" y1="-10" x2="8" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>
                <line x1="9" y1="-10" x2="9" y2="10" stroke="#e0e0e0" stroke-width="0.02"></line>


                <line x1="-10" y1="0" x2="10" y2="0" stroke="black" stroke-width="0.06"></line>
                <polygon points="9.7 0.3, 10 0, 9.7 -0.3" fill="black"></polygon>
                <text x="9.5" y="-0.8" font-size="0.8" text-anchor="middle" fill="black">x</text>

                <line x1="0" y1="-10" x2="0" y2="10" stroke="black" stroke-width="0.06"></line>
                <polygon points="0.3 -9.7, 0 -10, -0.3 -9.7" fill="black"></polygon>
                <text x="-1" y="-9.5" font-size="0.8" text-anchor="middle" fill="black">y</text>
                <text x="-0.5" y="0.7" font-size="0.5" fill="black">0</text>
                <polyline id="graphLine" fill="none" stroke="#4CAF50" stroke-width="0.06" class="line-shadow" clip-path="url(#graphAreaClip)"></polyline>
                <g id="dotsGroup" clip-path="url(#graphAreaClip)"></g>
                <text id="x-1" x="1" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">1</text>
                <text id="x-2" x="2" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">2</text>
                <text id="x-3" x="3" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">3</text>
                <text id="x-4" x="4" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">4</text>
                <text id="x-5" x="5" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">5</text>
                <text id="x-6" x="6" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">6</text>
                <text id="x-7" x="7" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">7</text>
                <text id="x-8" x="8" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">8</text>
                <text id="x-9" x="9" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">9</text>

                <text id="x-minus-1" x="-1" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-1</text>
                <text id="x-minus-2" x="-2" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-2</text>
                <text id="x-minus-3" x="-3" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-3</text>
                <text id="x-minus-4" x="-4" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-4</text>
                <text id="x-minus-5" x="-5" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-5</text>
                <text id="x-minus-6" x="-6" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-6</text>
                <text id="x-minus-7" x="-7" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-7</text>
                <text id="x-minus-8" x="-8" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-8</text>
                <text id="x-minus-9" x="-9" y="0.7" font-size="0.5" text-anchor="middle" fill="gray">-9</text>


                <text id="y-minus-1" x="-0.7" y="1" font-size="0.5" text-anchor="start" fill="gray">-1</text>
                <text id="y-minus-2" x="-0.7" y="2" font-size="0.5" text-anchor="start" fill="gray">-2</text>
                <text id="y-minus-3" x="-0.7" y="3" font-size="0.5" text-anchor="start" fill="gray">-3</text>
                <text id="y-minus-4" x="-0.7" y="4" font-size="0.5" text-anchor="start" fill="gray">-4</text>
                <text id="y-minus-5" x="-0.7" y="5" font-size="0.5" text-anchor="start" fill="gray">-5</text>
                <text id="y-minus-6" x="-0.7" y="6" font-size="0.5" text-anchor="start" fill="gray">-6</text>
                <text id="y-minus-7" x="-0.7" y="7" font-size="0.5" text-anchor="start" fill="gray">-7</text>
                <text id="y-minus-8" x="-0.7" y="8" font-size="0.5" text-anchor="start" fill="gray">-8</text>
                <text id="y-minus-9" x="-0.7" y="9" font-size="0.5" text-anchor="start" fill="gray">-9</text>

                <text id="y-1" x="-0.7" y="-1" font-size="0.5" text-anchor="start" fill="gray">1</text>
                <text id="y-2" x="-0.7" y="-2" font-size="0.5" text-anchor="start" fill="gray">2</text>
                <text id="y-3" x="-0.7" y="-3" font-size="0.5" text-anchor="start" fill="gray">3</text>
                <text id="y-4" x="-0.7" y="-4" font-size="0.5" text-anchor="start" fill="gray">4</text>
                <text id="y-5" x="-0.7" y="-5" font-size="0.5" text-anchor="start" fill="gray">5</text>
                <text id="y-6" x="-0.7" y="-6" font-size="0.5" text-anchor="start" fill="gray">6</text>
                <text id="y-7" x="-0.7" y="-7" font-size="0.5" text-anchor="start" fill="gray">7</text>
                <text id="y-8" x="-0.7" y="-8" font-size="0.5" text-anchor="start" fill="gray">8</text>
                <text id="y-9" x="-0.7" y="-9" font-size="0.5" text-anchor="start" fill="gray">9</text>

            </svg>-->
        </div>
        <div class="control">
            <span>‡∂Ö‡∂±‡∑î‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂´‡∂∫:</span>
        <div class="btn-wrapper">
              <button class="scroll-btn left">‚Üê</button> 
              <input type="number" id="coef" value="2" min="-10" max="10" readonly>
              <button class="scroll-btn right">‚Üí</button>
            </div>
          </div>
          
          <div class="control">
            <span>‡∂Ö‡∂´‡∑ä‡∂≠‡∂É‡∂õ‡∂´‡∑ä‡∂©‡∂∫:</span>
            <div class="btn-wrapper">
            <button class="scroll-btn left">‚Üê</button> 
            <input type="number" id="constant" value="1" min="-50" max="50" readonly>
            <button class="scroll-btn right">‚Üí</button>
        </div>
          </div>
        <p id="errorMessage" class="error-message hidden">
     </p>

        <p class="info-text">
         </p>
    </div>

    <script src="js/graph.js"></script>
    <script>

document.addEventListener("click", e => {
  const btn = e.target.closest(".scroll-btn");
  if (!btn) return;

  const wrapper = btn.closest(".btn-wrapper");
  if (!wrapper) return;

  const input = wrapper.querySelector('input[type="number"]');
  if (!input) return;

  const step = input.step ? Number(input.step) : 1;
  const min = input.min !== "" ? Number(input.min) : -Infinity;
  const max = input.max !== "" ? Number(input.max) : Infinity;

  let value = Number(input.value) || 0;

  if (btn.classList.contains("left")) {
    value -= step;
  } else {
    value += step;
  }

  // clamp value
  value = Math.max(min, Math.min(max, value));

  input.value = value;

  // üî• trigger same logic as manual typing
  input.dispatchEvent(new Event("input", { bubbles: true }));
});


           createGraphSVG('.graph-container');



const graphLine = document.getElementById('graphLine');
const dotsGroup = document.getElementById('dotsGroup');
const errorMessage = document.getElementById('errorMessage');
const graphSVG = document.getElementById('graphSVG'); 



const coefInput   = document.getElementById("coef");
const constInput  = document.getElementById("constant");
const powerRadios = document.querySelectorAll("input[name='power']");
const eqDisplay   = document.getElementById("equationDisplay");

[coefInput, constInput].forEach(el => {
el.addEventListener("input", renderEquation);
});
powerRadios.forEach(radio => {
radio.addEventListener("change", renderEquation);
});

function renderEquation() {
const coef = parseFloat(coefInput.value) || 0;
const constant = parseFloat(constInput.value) || 0;
const power = document.querySelector("input[name='power']:checked").value;

let displayEq = "y = ";
let hasTerm = false;

if (coef !== 0) {
hasTerm = true;
if (coef === 1) {
displayEq += "x";
} else if (coef === -1) {
displayEq += "-x";
} else {
displayEq += coef + "x";
}
if (power === "2") displayEq += "¬≤";
}

if (constant !== 0) {
if (hasTerm) {
displayEq += (constant > 0 ? " + " : " - ") + Math.abs(constant);
} else {
displayEq += constant;
}
hasTerm = true;
}

if (!hasTerm) {
displayEq += "0";
}

eqDisplay.innerHTML = displayEq;

// -------- Raw Equation String (parser) --------
let rawEq = "y = ";
if (coef !== 0) {
rawEq += coef + "x";
if (power === "2") rawEq += "^2";
}
if (constant !== 0) {
if (coef !== 0) {
rawEq += (constant > 0 ? "+" : "") + constant;
} else {
rawEq += constant;
}
}
if (coef === 0 && constant === 0) {
rawEq += "0";
}

updateGraph(rawEq);
}



// initial render
renderEquation();
    </script>
</body>
</html>
