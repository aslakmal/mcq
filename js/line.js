function visualizeOperation(s,o){s=s.match(/(-?\d+)\s*([+\-])\s*(\(?\s*(-?\d+)\s*\)?)/);if(s){var i=parseInt(s[1],10),n=s[2],s=parseInt(s[4],10);let e,t,l;l="+"===n?(e=i+s,t=Math.abs(s),0<=s?"right":"left"):(e=i-s,t=Math.abs(s),0<=s?"left":"right");const y=Math.min(i,e,0)-2,h=Math.max(i,e,0)+2;n=document.querySelector("."+o);if(n){n.innerHTML="",n.style.padding="20px 0",n.style.overflowX="auto";const f=document.createElement("div");f.className="number-line-visualization",f.style.position="relative",f.style.height="60px",f.style.width="100%",f.style.paddingTop="10px",n.appendChild(f);var s=document.createElement("div"),a=(s.style.position="absolute",s.style.top="30px",s.style.left="5%",s.style.right="5%",s.style.height="2px",s.style.backgroundColor="#fff",f.appendChild(s),e=>(e-y)/(h-y)*90+5);for(let e=y;e<=h;e++){var r=a(e),p=document.createElement("div"),p=(p.style.position="absolute",p.style.left=r+"%",p.style.top="25px",p.style.width="2px",p.style.height="10px",p.style.backgroundColor="#fff",f.appendChild(p),document.createElement("div"));p.innerText=e,p.style.position="absolute",p.style.left=r+"%",p.style.top="40px",p.style.transform="translateX(-50%)",p.style.fontSize="12px",p.style.color="#fff",f.appendChild(p)}var n=a(i),s=a(e),i=Math.min(n,s),n=Math.abs(n-s),d=document.createElement("div"),i=(d.style.position="absolute",d.style.top="30px",d.style.left=i+"%",d.style.width=n+"%",d.style.height="3px",d.style.backgroundColor="#009688",d.style.zIndex="10",f.appendChild(d),document.createElement("div"));i.style.position="absolute",i.style.top="25px",i.style.width="0",i.style.height="0",i.style.borderTop="7px solid transparent",i.style.borderBottom="5px solid transparent","right"===l?(i.style.left=s-1+"%",i.style.borderLeft="20px solid #009688"):(i.style.left=s+1+"%",i.style.borderRight="20px solid #009688"),i.style.transform="translateX(-50%)",f.appendChild(i)}else console.error(`Element with class '${o}' not found.`)}else console.error("Invalid expression format. Expected 'a [+/-] b = ?'")}
